<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alan Holding Digital Solutions | Web Development & AI Chatbots</title>
    <script src="https://cdn.botpress.cloud/webchat/v2.4/inject.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      function waitForBotpress() {
        if (typeof window.botpress !== 'undefined') {
          // Initialize with configuration
          window.botpress.init({
            "botId": "c23553ca-8e78-494d-9cc1-b5d6341c54f5",
            "configuration": {
              "botName": "Oliver",
              "color": "#5eb1ef",
              "variant": "solid",
              "themeMode": "dark",
              "fontFamily": "inter",
              "radius": 2.5,
              
              // Welcome message settings
              "showConversationStart": true,
              "enableWelcome": true,
              "welcomeMessage": "Welcome to Alan Holding Digital Solutions! I'm Oliver, your personal digital advisor. How can I help you today?",
              
              // Force conversation to start
              "conversationDuration": 0,
              "disableAnimations": true,
              "forceOpen": true
            },
            "clientId": "618d8e6d-457b-449e-b895-4cf79049220d"
          });
          
          // When webchat is ready, manually show it and trigger conversation
          window.botpress.on("webchat:ready", function() {
            // First show the webchat
            window.botpress.sendEvent({ type: 'show' });
            
            // Force a new conversation reset after a short delay
            setTimeout(function() {
              window.botpress.sendEvent({ type: 'conversation_reset', value: true });
              
              // Small additional delay to allow reset to complete
              setTimeout(function() {
                // This forces Botpress to reload the conversation, which should trigger the welcome message
                window.botpress.sendEvent({ type: 'view', value: 'information' });
                window.botpress.sendEvent({ type: 'view', value: 'chat' });
              }, 300);
            }, 700);
          });
        } else {
          setTimeout(waitForBotpress, 250);
        }
      }
      
      // Start the process when the page loads
      window.addEventListener('DOMContentLoaded', function() {
        setTimeout(waitForBotpress, 500);
      });
    </script>
  </body>
</html>